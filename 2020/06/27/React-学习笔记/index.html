<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>React | 青空</title><meta name="description" content="React"><meta name="keywords" content="学习笔记,React,框架"><meta name="author" content="青空"><meta name="copyright" content="青空"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/blog/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="React"><meta name="twitter:description" content="React"><meta name="twitter:image" content="https://img1.gamersky.com/upimg/users/2020/06/18/origin_202006180915583257.jpg"><meta property="og:type" content="article"><meta property="og:title" content="React"><meta property="og:url" content="https://gitee.com/AIR-ZRB/blog/2020/06/27/React-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><meta property="og:site_name" content="青空"><meta property="og:description" content="React"><meta property="og:image" content="https://img1.gamersky.com/upimg/users/2020/06/18/origin_202006180915583257.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/blog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://gitee.com/AIR-ZRB/blog/2020/06/27/React-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="prev" title="Vue-Cli" href="https://gitee.com/AIR-ZRB/blog/2020/06/27/Vue-cli/"><link rel="next" title="面试经验" href="https://gitee.com/AIR-ZRB/blog/2020/06/22/%E9%9D%A2%E7%BB%8F/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/blog/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/blog/">青空</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/blog/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/blog/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/blog/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/blog/archives/"><div class="headline">文章</div><div class="length_num">44</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/blog/tags/"><div class="headline">标签</div><div class="length_num">28</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/blog/categories/"><div class="headline">分类</div><div class="length_num">10</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/blog/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/blog/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#React核心的概念"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">React核心的概念</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#虚拟DOM-Virtual-Document-Object-Model"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">虚拟DOM(Virtual Document Object Model)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#diff算法"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">diff算法</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#脚手架（create-react-app）"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">脚手架（create-react-app）</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#目录结构"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">目录结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#添加TypeScript"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">添加TypeScript</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#添加路由"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">添加路由</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#添加Bootstrap"><span class="toc_mobile_items-number">2.4.</span> <span class="toc_mobile_items-text">添加Bootstrap</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#JSX"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">JSX</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#在-JSX-类型中使用点语法"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text">在 JSX 类型中使用点语法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#在运行时选择类型"><span class="toc_mobile_items-number">3.2.</span> <span class="toc_mobile_items-text">在运行时选择类型</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#props-children"><span class="toc_mobile_items-number">3.3.</span> <span class="toc_mobile_items-text">props.children</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#React基础"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">React基础</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#开始"><span class="toc_mobile_items-number">4.1.</span> <span class="toc_mobile_items-text">开始</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#使用React报错"><span class="toc_mobile_items-number">4.2.</span> <span class="toc_mobile_items-text">使用React报错</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#React组件"><span class="toc_mobile_items-number">4.3.</span> <span class="toc_mobile_items-text">React组件</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#组件中写样式"><span class="toc_mobile_items-number">4.3.1.</span> <span class="toc_mobile_items-text">组件中写样式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#管理组件"><span class="toc_mobile_items-number">4.3.2.</span> <span class="toc_mobile_items-text">管理组件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#组件传值"><span class="toc_mobile_items-number">4.3.3.</span> <span class="toc_mobile_items-text">组件传值</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#组件的默认值"><span class="toc_mobile_items-number">4.3.4.</span> <span class="toc_mobile_items-text">组件的默认值</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#事件"><span class="toc_mobile_items-number">4.4.</span> <span class="toc_mobile_items-text">事件</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#this指向问题"><span class="toc_mobile_items-number">4.4.1.</span> <span class="toc_mobile_items-text">this指向问题</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#传递参数"><span class="toc_mobile_items-number">4.4.2.</span> <span class="toc_mobile_items-text">传递参数</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#React组件的生命周期"><span class="toc_mobile_items-number">4.5.</span> <span class="toc_mobile_items-text">React组件的生命周期</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#生命周期注意点"><span class="toc_mobile_items-number">4.5.1.</span> <span class="toc_mobile_items-text">生命周期注意点</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#constructor-NaN"><span class="toc_mobile_items-number">4.5.1.1.</span> <span class="toc_mobile_items-text">constructor</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#实现双向数据绑定"><span class="toc_mobile_items-number">4.6.</span> <span class="toc_mobile_items-text">实现双向数据绑定</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#key"><span class="toc_mobile_items-number">4.7.</span> <span class="toc_mobile_items-text">key</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#受控组件"><span class="toc_mobile_items-number">4.8.</span> <span class="toc_mobile_items-text">受控组件</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#受控输入空值"><span class="toc_mobile_items-number">4.8.1.</span> <span class="toc_mobile_items-text">受控输入空值</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#State-amp-数据校验"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">State &amp; 数据校验</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#不要直接修改state"><span class="toc_mobile_items-number">5.1.</span> <span class="toc_mobile_items-text">不要直接修改state</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#State-的更新可能是异步的"><span class="toc_mobile_items-number">5.2.</span> <span class="toc_mobile_items-text">State 的更新可能是异步的</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#State的更新会被合并"><span class="toc_mobile_items-number">5.3.</span> <span class="toc_mobile_items-text">State的更新会被合并</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#React进阶"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">React进阶</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#代码分割"><span class="toc_mobile_items-number">6.1.</span> <span class="toc_mobile_items-text">代码分割</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#懒加载"><span class="toc_mobile_items-number">6.2.</span> <span class="toc_mobile_items-text">懒加载</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Ref"><span class="toc_mobile_items-number">6.3.</span> <span class="toc_mobile_items-text">Ref</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Ref-转发"><span class="toc_mobile_items-number">6.3.1.</span> <span class="toc_mobile_items-text">Ref 转发</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Fragments"><span class="toc_mobile_items-number">6.4.</span> <span class="toc_mobile_items-text">Fragments</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Context"><span class="toc_mobile_items-number">6.5.</span> <span class="toc_mobile_items-text">Context</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#高阶组件（未理解）"><span class="toc_mobile_items-number">6.6.</span> <span class="toc_mobile_items-text">高阶组件（未理解）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#性能优化（还没看）"><span class="toc_mobile_items-number">6.7.</span> <span class="toc_mobile_items-text">性能优化（还没看）</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Profiler"><span class="toc_mobile_items-number">6.7.1.</span> <span class="toc_mobile_items-text">Profiler</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Portals（没理解）"><span class="toc_mobile_items-number">6.8.</span> <span class="toc_mobile_items-text">Portals（没理解）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#不使用ES6和JSX（了解即可）"><span class="toc_mobile_items-number">6.9.</span> <span class="toc_mobile_items-text">不使用ES6和JSX（了解即可）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#render-props"><span class="toc_mobile_items-number">6.10.</span> <span class="toc_mobile_items-text">render props</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#使用Props而非render"><span class="toc_mobile_items-number">6.10.1.</span> <span class="toc_mobile_items-text">使用Props而非render</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#静态类型检测"><span class="toc_mobile_items-number">6.11.</span> <span class="toc_mobile_items-text">静态类型检测</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Flow"><span class="toc_mobile_items-number">6.11.1.</span> <span class="toc_mobile_items-text">Flow</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#TypeScript"><span class="toc_mobile_items-number">6.11.2.</span> <span class="toc_mobile_items-text">TypeScript</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#严格模式"><span class="toc_mobile_items-number">6.12.</span> <span class="toc_mobile_items-text">严格模式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#路由"><span class="toc_mobile_items-number">6.13.</span> <span class="toc_mobile_items-text">路由</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#路由的参数"><span class="toc_mobile_items-number">6.13.1.</span> <span class="toc_mobile_items-text">路由的参数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#路由的传参"><span class="toc_mobile_items-number">6.13.2.</span> <span class="toc_mobile_items-text">路由的传参</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#CSS解决方案"><span class="toc_mobile_items-number">6.14.</span> <span class="toc_mobile_items-text">CSS解决方案</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#请求数据"><span class="toc_mobile_items-number">6.15.</span> <span class="toc_mobile_items-text">请求数据</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#API"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">API</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#组件"><span class="toc_mobile_items-number">7.1.</span> <span class="toc_mobile_items-text">组件</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#React-component"><span class="toc_mobile_items-number">7.1.1.</span> <span class="toc_mobile_items-text">React.component</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#创建React元素"><span class="toc_mobile_items-number">7.2.</span> <span class="toc_mobile_items-text">创建React元素</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#createElement"><span class="toc_mobile_items-number">7.2.1.</span> <span class="toc_mobile_items-text">createElement</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#cloneElement"><span class="toc_mobile_items-number">7.2.2.</span> <span class="toc_mobile_items-text">cloneElement</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#createFactory"><span class="toc_mobile_items-number">7.2.3.</span> <span class="toc_mobile_items-text">createFactory</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Refs"><span class="toc_mobile_items-number">7.3.</span> <span class="toc_mobile_items-text">Refs</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#React-createRef"><span class="toc_mobile_items-number">7.3.1.</span> <span class="toc_mobile_items-text">React.createRef</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#React-forwardRef"><span class="toc_mobile_items-number">7.3.2.</span> <span class="toc_mobile_items-text">React.forwardRef</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Suspense"><span class="toc_mobile_items-number">7.4.</span> <span class="toc_mobile_items-text">Suspense</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#React-lazy"><span class="toc_mobile_items-number">7.4.1.</span> <span class="toc_mobile_items-text">React.lazy</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#React-Suspense"><span class="toc_mobile_items-number">7.4.2.</span> <span class="toc_mobile_items-text">React.Suspense</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Hooks"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text">Hooks</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#什么是Hooks"><span class="toc_mobile_items-number">8.1.</span> <span class="toc_mobile_items-text">什么是Hooks</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#React为什么要搞一个Hooks"><span class="toc_mobile_items-number">8.2.</span> <span class="toc_mobile_items-text">React为什么要搞一个Hooks</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#渲染属性"><span class="toc_mobile_items-number">8.2.0.1.</span> <span class="toc_mobile_items-text">渲染属性</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#高阶组件"><span class="toc_mobile_items-number">8.2.0.2.</span> <span class="toc_mobile_items-text">高阶组件</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#State-Hooks"><span class="toc_mobile_items-number">8.3.</span> <span class="toc_mobile_items-text">State Hooks</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Effect-Hook"><span class="toc_mobile_items-number">8.4.</span> <span class="toc_mobile_items-text">Effect Hook</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#useRef"><span class="toc_mobile_items-number">8.5.</span> <span class="toc_mobile_items-text">useRef</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#React-TS实战"><span class="toc_mobile_items-number">9.</span> <span class="toc_mobile_items-text">React+TS实战</span></a></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#React核心的概念"><span class="toc-number">1.</span> <span class="toc-text">React核心的概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#虚拟DOM-Virtual-Document-Object-Model"><span class="toc-number">1.1.</span> <span class="toc-text">虚拟DOM(Virtual Document Object Model)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#diff算法"><span class="toc-number">1.2.</span> <span class="toc-text">diff算法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#脚手架（create-react-app）"><span class="toc-number">2.</span> <span class="toc-text">脚手架（create-react-app）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#目录结构"><span class="toc-number">2.1.</span> <span class="toc-text">目录结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加TypeScript"><span class="toc-number">2.2.</span> <span class="toc-text">添加TypeScript</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加路由"><span class="toc-number">2.3.</span> <span class="toc-text">添加路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加Bootstrap"><span class="toc-number">2.4.</span> <span class="toc-text">添加Bootstrap</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSX"><span class="toc-number">3.</span> <span class="toc-text">JSX</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#在-JSX-类型中使用点语法"><span class="toc-number">3.1.</span> <span class="toc-text">在 JSX 类型中使用点语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在运行时选择类型"><span class="toc-number">3.2.</span> <span class="toc-text">在运行时选择类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#props-children"><span class="toc-number">3.3.</span> <span class="toc-text">props.children</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React基础"><span class="toc-number">4.</span> <span class="toc-text">React基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#开始"><span class="toc-number">4.1.</span> <span class="toc-text">开始</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用React报错"><span class="toc-number">4.2.</span> <span class="toc-text">使用React报错</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#React组件"><span class="toc-number">4.3.</span> <span class="toc-text">React组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#组件中写样式"><span class="toc-number">4.3.1.</span> <span class="toc-text">组件中写样式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#管理组件"><span class="toc-number">4.3.2.</span> <span class="toc-text">管理组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#组件传值"><span class="toc-number">4.3.3.</span> <span class="toc-text">组件传值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#组件的默认值"><span class="toc-number">4.3.4.</span> <span class="toc-text">组件的默认值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#事件"><span class="toc-number">4.4.</span> <span class="toc-text">事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#this指向问题"><span class="toc-number">4.4.1.</span> <span class="toc-text">this指向问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#传递参数"><span class="toc-number">4.4.2.</span> <span class="toc-text">传递参数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#React组件的生命周期"><span class="toc-number">4.5.</span> <span class="toc-text">React组件的生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#生命周期注意点"><span class="toc-number">4.5.1.</span> <span class="toc-text">生命周期注意点</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#constructor-NaN"><span class="toc-number">4.5.1.1.</span> <span class="toc-text">constructor</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实现双向数据绑定"><span class="toc-number">4.6.</span> <span class="toc-text">实现双向数据绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#key"><span class="toc-number">4.7.</span> <span class="toc-text">key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#受控组件"><span class="toc-number">4.8.</span> <span class="toc-text">受控组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#受控输入空值"><span class="toc-number">4.8.1.</span> <span class="toc-text">受控输入空值</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#State-amp-数据校验"><span class="toc-number">5.</span> <span class="toc-text">State &amp; 数据校验</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#不要直接修改state"><span class="toc-number">5.1.</span> <span class="toc-text">不要直接修改state</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#State-的更新可能是异步的"><span class="toc-number">5.2.</span> <span class="toc-text">State 的更新可能是异步的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#State的更新会被合并"><span class="toc-number">5.3.</span> <span class="toc-text">State的更新会被合并</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React进阶"><span class="toc-number">6.</span> <span class="toc-text">React进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#代码分割"><span class="toc-number">6.1.</span> <span class="toc-text">代码分割</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#懒加载"><span class="toc-number">6.2.</span> <span class="toc-text">懒加载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ref"><span class="toc-number">6.3.</span> <span class="toc-text">Ref</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Ref-转发"><span class="toc-number">6.3.1.</span> <span class="toc-text">Ref 转发</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Fragments"><span class="toc-number">6.4.</span> <span class="toc-text">Fragments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Context"><span class="toc-number">6.5.</span> <span class="toc-text">Context</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#高阶组件（未理解）"><span class="toc-number">6.6.</span> <span class="toc-text">高阶组件（未理解）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#性能优化（还没看）"><span class="toc-number">6.7.</span> <span class="toc-text">性能优化（还没看）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Profiler"><span class="toc-number">6.7.1.</span> <span class="toc-text">Profiler</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Portals（没理解）"><span class="toc-number">6.8.</span> <span class="toc-text">Portals（没理解）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#不使用ES6和JSX（了解即可）"><span class="toc-number">6.9.</span> <span class="toc-text">不使用ES6和JSX（了解即可）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#render-props"><span class="toc-number">6.10.</span> <span class="toc-text">render props</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#使用Props而非render"><span class="toc-number">6.10.1.</span> <span class="toc-text">使用Props而非render</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#静态类型检测"><span class="toc-number">6.11.</span> <span class="toc-text">静态类型检测</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Flow"><span class="toc-number">6.11.1.</span> <span class="toc-text">Flow</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TypeScript"><span class="toc-number">6.11.2.</span> <span class="toc-text">TypeScript</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#严格模式"><span class="toc-number">6.12.</span> <span class="toc-text">严格模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#路由"><span class="toc-number">6.13.</span> <span class="toc-text">路由</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#路由的参数"><span class="toc-number">6.13.1.</span> <span class="toc-text">路由的参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#路由的传参"><span class="toc-number">6.13.2.</span> <span class="toc-text">路由的传参</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CSS解决方案"><span class="toc-number">6.14.</span> <span class="toc-text">CSS解决方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#请求数据"><span class="toc-number">6.15.</span> <span class="toc-text">请求数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#API"><span class="toc-number">7.</span> <span class="toc-text">API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#组件"><span class="toc-number">7.1.</span> <span class="toc-text">组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#React-component"><span class="toc-number">7.1.1.</span> <span class="toc-text">React.component</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建React元素"><span class="toc-number">7.2.</span> <span class="toc-text">创建React元素</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#createElement"><span class="toc-number">7.2.1.</span> <span class="toc-text">createElement</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cloneElement"><span class="toc-number">7.2.2.</span> <span class="toc-text">cloneElement</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#createFactory"><span class="toc-number">7.2.3.</span> <span class="toc-text">createFactory</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Refs"><span class="toc-number">7.3.</span> <span class="toc-text">Refs</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#React-createRef"><span class="toc-number">7.3.1.</span> <span class="toc-text">React.createRef</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#React-forwardRef"><span class="toc-number">7.3.2.</span> <span class="toc-text">React.forwardRef</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Suspense"><span class="toc-number">7.4.</span> <span class="toc-text">Suspense</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#React-lazy"><span class="toc-number">7.4.1.</span> <span class="toc-text">React.lazy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#React-Suspense"><span class="toc-number">7.4.2.</span> <span class="toc-text">React.Suspense</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hooks"><span class="toc-number">8.</span> <span class="toc-text">Hooks</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是Hooks"><span class="toc-number">8.1.</span> <span class="toc-text">什么是Hooks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#React为什么要搞一个Hooks"><span class="toc-number">8.2.</span> <span class="toc-text">React为什么要搞一个Hooks</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#渲染属性"><span class="toc-number">8.2.0.1.</span> <span class="toc-text">渲染属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#高阶组件"><span class="toc-number">8.2.0.2.</span> <span class="toc-text">高阶组件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#State-Hooks"><span class="toc-number">8.3.</span> <span class="toc-text">State Hooks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Effect-Hook"><span class="toc-number">8.4.</span> <span class="toc-text">Effect Hook</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#useRef"><span class="toc-number">8.5.</span> <span class="toc-text">useRef</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React-TS实战"><span class="toc-number">9.</span> <span class="toc-text">React+TS实战</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://img1.gamersky.com/upimg/users/2020/06/18/origin_202006180915583257.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">React</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2020-06-27<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2020-06-28</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/blog/categories/%E5%89%8D%E7%AB%AF/">前端</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h2 id="React核心的概念"><a href="#React核心的概念" class="headerlink" title="React核心的概念"></a>React核心的概念</h2><h3 id="虚拟DOM-Virtual-Document-Object-Model"><a href="#虚拟DOM-Virtual-Document-Object-Model" class="headerlink" title="虚拟DOM(Virtual Document Object Model)"></a>虚拟DOM(Virtual Document Object Model)</h3><ul>
<li>DOM的本质是什么：就是用JS表示的UI元素</li>
<li>DOM和虚拟DOM的区别<ul>
<li>DOM是由浏览器中的JS提供功能，所以我们只能人为的使用 浏览器提供的固定API来操作DOM对象</li>
<li>虚拟DOM：并不是由浏览器提供的，而是我们程序员手动模拟实现的，类似于浏览器中的DOM，但是有着本质的区别</li>
</ul>
</li>
</ul>
<h3 id="diff算法"><a href="#diff算法" class="headerlink" title="diff算法"></a>diff算法</h3><h2 id="脚手架（create-react-app）"><a href="#脚手架（create-react-app）" class="headerlink" title="脚手架（create-react-app）"></a>脚手架（create-react-app）</h2><blockquote>
<p>一个React的脚手架，快速生成React的项目</p>
</blockquote>
<p>React 的环境搭建，是比较繁琐的，有很多的依赖：<code>react</code>、<code>react-dom</code>、<code>babel</code>、<code>webpack</code> … 需要很多的前置知识，很容易让人从入门到放弃。</p>
<p>于是就诞生了 <code>脚手架</code> 这种东西，<code>create-react-app</code> 就是一个 React 的脚手架，用它可以很方便的就创建了整个 React 的环境搭建，它解决了所有的依赖问题。</p>
<h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><p>创建后，你的项目应如下所示：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">my-app&#x2F;</span><br><span class="line">  README.md</span><br><span class="line">  node_modules&#x2F;</span><br><span class="line">  package.json</span><br><span class="line">  public&#x2F;</span><br><span class="line">    index.html</span><br><span class="line">    favicon.ico</span><br><span class="line">  src&#x2F;</span><br><span class="line">    App.css</span><br><span class="line">    App.js</span><br><span class="line">    App.test.js</span><br><span class="line">    index.css</span><br><span class="line">    index.js</span><br><span class="line">    logo.svg</span><br></pre></td></tr></table></figure></div>

<p>对于要构建的项目，这些文件必须以确切的文件名存在：</p>
<ul>
<li><code>public/index.html</code> 是页面模板;</li>
<li><code>src/index.js</code> 是 JavaScript 入口点。</li>
</ul>
<p>你可以删除或重命名其他文件。</p>
<p>你可以在 <code>src</code> 中创建子目录。 为了加快重新构建的速度，Webpack 只处理 <code>src</code> 中的文件。 你需要<strong>将任何 JS 和 CSS 文件放在 <code>src</code> 中</strong>，否则 Webpack 将发现不了它们。</p>
<h3 id="添加TypeScript"><a href="#添加TypeScript" class="headerlink" title="添加TypeScript"></a>添加TypeScript</h3><p><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener">TypeScript</a> 是 JavaScript 的类型超集，可编译为纯 JavaScript 。</p>
<p>要使用 <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener">TypeScript</a> 启动新的 Create React App 项目，你可以运行：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npx create-react-app my-app --typescript</span><br><span class="line">$ <span class="comment"># 或者</span></span><br><span class="line">$ yarn create react-app my-app --typescript</span><br></pre></td></tr></table></figure></div>

<p>要将 <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener">TypeScript</a> 添加到 Create React App 项目，请先安装它：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save typescript @types/node @types/react @types/react-dom @types/jest</span><br><span class="line">$ <span class="comment"># 或者</span></span><br><span class="line">$ yarn add typescript @types/node @types/react @types/react-dom @types/jest</span><br></pre></td></tr></table></figure></div>

<p>接下来，将任何文件重命名为 TypeScript 文件（例如 <code>src/index.js</code> 重命名为 <code>src/index.tsx</code> ）并 <strong>重新启动开发服务器</strong>！</p>
<h3 id="添加路由"><a href="#添加路由" class="headerlink" title="添加路由"></a>添加路由</h3><p>要添加它，请运行：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save react-router-dom</span><br></pre></td></tr></table></figure></div>

<p>或者你可以使用 <code>yarn</code>:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add react-router-dom</span><br></pre></td></tr></table></figure></div>

<p>要尝试它，删除 <code>src/App.js</code> 中的所有代码，并将其替换为其网站上的任何示例。 <a href="https://reacttraining.com/react-router/web/example/basic" target="_blank" rel="noopener">基本示例</a> 是开始尝试的好地方。</p>
<p>可能会报错让安装<code>npm install @types/react-router-dom</code></p>
<h3 id="添加Bootstrap"><a href="#添加Bootstrap" class="headerlink" title="添加Bootstrap"></a>添加Bootstrap</h3><p>从 npm 安装 reactstrap 和 Bootstrap 。 reactstrap 不包括 Bootstrap CSS 所以这也需要安装：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save reactstrap bootstrap@4</span><br></pre></td></tr></table></figure></div>

<p>或者你可以使用 <code>yarn</code>:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add bootstrap@4 reactstrap</span><br></pre></td></tr></table></figure></div>

<p>在 <code>src/index.js</code> 文件的开头导入 Bootstrap CSS 和可选的 Bootstrap 主题 CSS ：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'bootstrap/dist/css/bootstrap.css'</span>;</span><br><span class="line"><span class="comment">// 在下面放置任何其他导入，</span></span><br><span class="line"><span class="comment">// 以便组件中的CSS优先于默认样式。</span></span><br></pre></td></tr></table></figure></div>

<p>在 <code>src/App.js</code> 文件或自定义组件文件中导入所需的 reactstrap 组件：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Button &#125; <span class="keyword">from</span> <span class="string">'reactstrap'</span>;</span><br></pre></td></tr></table></figure></div>







<h2 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h2><blockquote>
<p>实际上，JSX 仅仅只是 <code>React.createElement(component, props, ...children)</code> 函数的语法糖。</p>
</blockquote>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;MyButton color=<span class="string">"blue"</span> shadowSize=&#123;<span class="number">2</span>&#125;&gt;</span><br><span class="line">  Click Me</span><br><span class="line">&lt;<span class="regexp">/MyButton&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">会编译为：</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">React.createElement(</span></span><br><span class="line"><span class="regexp">  MyButton,</span></span><br><span class="line"><span class="regexp">  &#123;color: 'blue', shadowSize: 2&#125;,</span></span><br><span class="line"><span class="regexp">  'Click Me'</span></span><br><span class="line"><span class="regexp">)</span></span><br></pre></td></tr></table></figure></div>

<p>如果没有子节点，你还可以使用自闭合的标签形式</p>
<p>JSX 标签的第一部分指定了 React 元素的类型。</p>
<p>大写字母开头的 JSX 标签意味着它们是 React 组件。这些标签会被编译为对命名变量的直接引用，所以，当你使用 <code>JSX</code> 表达式时，<code>Foo</code> 必须包含在作用域内。</p>
<h3 id="在-JSX-类型中使用点语法"><a href="#在-JSX-类型中使用点语法" class="headerlink" title="在 JSX 类型中使用点语法"></a>在 JSX 类型中使用点语法</h3><p>在 JSX 中，你也可以使用点语法来引用一个 React 组件。当你在一个模块中导出许多 React 组件时，这会非常方便。例如，如果 <code>MyComponents.DatePicker</code> 是一个组件，你可以在 JSX 中直接使用</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> MyComponents = &#123;</span><br><span class="line">  DatePicker: <span class="function"><span class="keyword">function</span> <span class="title">DatePicker</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Imagine a &#123;props.color&#125; datepicker here.<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">BlueDatePicker</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">MyComponents.DatePicker</span> <span class="attr">color</span>=<span class="string">"blue"</span> /&gt;</span></span>;&#125;</span><br></pre></td></tr></table></figure></div>



<h3 id="在运行时选择类型"><a href="#在运行时选择类型" class="headerlink" title="在运行时选择类型"></a>在运行时选择类型</h3><p>我觉得应该没什么人这么用把</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; PhotoStory, VideoStory &#125; <span class="keyword">from</span> <span class="string">'./stories'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> components = &#123;</span><br><span class="line">  photo: PhotoStory,</span><br><span class="line">  video: VideoStory</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Story</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 正确！JSX 类型可以是大写字母开头的变量。</span></span><br><span class="line">  <span class="keyword">const</span> SpecificStory = components[props.storyType];</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">SpecificStory</span> <span class="attr">story</span>=<span class="string">&#123;props.story&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>





<h3 id="props-children"><a href="#props-children" class="headerlink" title="props.children"></a>props.children</h3><p>包含在开始和结束标签之间的 JSX 表达式内容将作为特定属性 <code>props.children</code> 传递给外层组件。有几种不同的方法来传递子元素：</p>
<h2 id="React基础"><a href="#React基础" class="headerlink" title="React基础"></a>React基础</h2><h3 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h3><p>需要两个框架：</p>
<ul>
<li>react</li>
<li>react-dom</li>
</ul>
<ol>
<li>React.createElement(标签名,属性,内容)</li>
<li>ReactDOM.render(创建的DOM,放到那个元素里)<ul>
<li><strong>warn：</strong>第二个参数是DOM元素</li>
</ul>
</li>
</ol>
<p>当页面中的元素过多的时候createElement的方式就会变得比较繁琐，<br>所以可以使用JSX语法，来帮助我们快速的生成标签，<br>但是JSX的本质还是把他们都转换为createElement的形式来创建标签，</p>
<h3 id="使用React报错"><a href="#使用React报错" class="headerlink" title="使用React报错"></a>使用React报错</h3><ul>
<li>(参考)[<a href="https://blog.csdn.net/weixin_46187747/article/details/104418323]" target="_blank" rel="noopener">https://blog.csdn.net/weixin_46187747/article/details/104418323]</a></li>
</ul>
<ol>
<li>使用JSX语法，需要用的插件是<code>@babel/preset-react</code></li>
<li>然后在.babelrc中添加语法配置<code>&quot;presets&quot;: [&quot;@babel/preset-react&quot;]</code></li>
<li>还要配置相对应的loader<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: &#x2F;\.jsx?$&#x2F;,</span><br><span class="line">    exclude: &#x2F;(node_modules|bower_components)&#x2F;,</span><br><span class="line">    use: &#123;</span><br><span class="line">        loader: &#39;babel-loader&#39;,</span><br><span class="line">        options: &#123;</span><br><span class="line">            presets: [&#39;@babel&#x2F;preset-env&#39;]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></div></li>
<li>JSX的本质还是把他们都转换为createElement的形式来创建标签</li>
<li>如果要在JSX语法内部书写JS代码，那么所有的JS代码，必须写道{}里面去<ul>
<li>在编译的时候，如果遇到&lt;&gt;的时候，就把他当作HTML来解析，如果遇到{}就当作JS代码来解析</li>
</ul>
</li>
<li>在JSX中，class属性，必须写成className，因为class在ES6中是一个关键字，label标签的for属性都与要替换成htmlFor</li>
<li>在JSX创建DOM的时候，所有的节点，必须有唯一的根元素进行包裹</li>
<li>如果写注释，也需要放到{}内部</li>
</ol>
<h3 id="React组件"><a href="#React组件" class="headerlink" title="React组件"></a>React组件</h3><p><strong>注意：组件的名字必须使用大写，React 会将以小写字母开头的组件视为原生 DOM 标签</strong></p>
<p><strong>注意：函数组件会每次渲染都会渲染两次</strong></p>
<p>在react创建组件的方式就是定义一个构造函数</p>
<ol>
<li>创建组件的第一种方式<ul>
<li>定义一个构造函数</li>
<li>这个函数中必须return标签或者null</li>
</ul>
</li>
<li>用class类来继承React.Component创建组件    <ul>
<li>在render函数中可以直接调用this.props来获取实参</li>
<li>在consttructor中必须通过形参的方式来拿到实参，不能通过this.props来访问</li>
</ul>
</li>
</ol>
<p>用组件数组是使用forEach没效果</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 无状态组件（函数组件）渲染列表</span><br><span class="line">export default function Hello()&#123;</span><br><span class="line">    return &lt;div&gt;</span><br><span class="line">        &#123;data.map((item,index)&#x3D;&gt;&#123;</span><br><span class="line">            return &lt;p key&#x3D;&#123;index&#125;&gt;&#123;item.id&#125;----&#123;item.name&#125;&lt;&#x2F;p&gt;</span><br><span class="line">        &#125;)&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 使用forEach不能遍历数组</span><br><span class="line">export default function Hello()&#123;</span><br><span class="line">    return &lt;div&gt;</span><br><span class="line">        &#123;data.forEach((item,index)&#x3D;&gt;&#123;</span><br><span class="line">            return &lt;li&gt;&#123;item.id&#125;-----&#123;item.name&#125;&lt;&#x2F;li&gt;</span><br><span class="line">        &#125;)&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p>区别:</p>
<ol>
<li><p>在function定义的组件中，如果想要使用props必须先定义，否者无法直接使用<br>但是，在class定义的组件中，可以直接使用this.props来直接访问，不需要预先接收</p>
</li>
<li><p>在class关键字创建的组件，内部除了由this.props这个只读属性之外，还有一个专门用于存放自己私有数据的this.state属性，这个state是可读可写的</p>
</li>
<li><p>使用function创建的组件叫做<strong>无状态组件</strong>也叫<strong>函数组件</strong>，使用class创建的组件叫做<strong>有状态组件</strong></p>
</li>
<li><p>class创建的组件，有自己的生命周期函数，function创建的组件，没有自己的生命周期函数，但是引入了Hook</p>
</li>
</ol>
<p>应用场景：</p>
<ol>
<li><p>如果一个组件需要存放自己的私有数据，或者需要组件在不同阶段执行不同的业务逻辑，此时非常适合用class船舰出来的有状态组件</p>
</li>
<li><p>如果一个组件，只需要根据外界传递过来的props渲染固定的页面结构，此时，非常适合使用function创建出来的无状态组件；（使用无状态组件的好处：由于没有了组件的生命周期函数，所以运行速度会相对块一点点）</p>
</li>
</ol>
<h4 id="组件中写样式"><a href="#组件中写样式" class="headerlink" title="组件中写样式"></a>组件中写样式</h4><ol>
<li>通过import进来一个CSS样式表</li>
<li>如果要写内联样式表，则需要用{}包裹，第一层{}是表示写JS代码，第二层表示一个对象</li>
<li>如果内联样式表中的单位是px则可以不用写</li>
<li>CSS的模块化</li>
</ol>
<h4 id="管理组件"><a href="#管理组件" class="headerlink" title="管理组件"></a>管理组件</h4><p>当组件多的时候，不可能都放在一个JS当中，都是要抽离出去来管理<br>这时抽离出去的文件也是JS，但是JS语法中写HTML是没有智能提示，这时可以把文件的后缀名改成JSX，<br>但是webpack打包不识别，</p>
<h4 id="组件传值"><a href="#组件传值" class="headerlink" title="组件传值"></a>组件传值</h4><ol>
<li>父组件向子组件传值，不管是属性还是方法，都可以动过 this.props来直接调用，<br> 而Vue中属性需要通过 props 来接收，方法需要用 this.$emit() 来调用</li>
<li>父组件向子组件用<code>ref</code>绑定一个字符串后，父组件可以通过<code>this.refs.字符串</code>来拿到子组件的所有参数</li>
</ol>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FancyBorder</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=&#123;<span class="string">'FancyBorder FancyBorder-'</span> + props.color&#125;&gt;</span><br><span class="line">      &#123;props.children&#125;    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function WelcomeDialog() &#123;</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;FancyBorder color="blue"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;h1 className="Dialog-title"&gt;</span></span><br><span class="line"><span class="regexp">        Welcome</span></span><br><span class="line"><span class="regexp">      &lt;/</span>h1&gt;</span><br><span class="line">      &lt;p className=<span class="string">"Dialog-message"</span>&gt;</span><br><span class="line">        Thank you <span class="keyword">for</span> visiting our spacecraft!</span><br><span class="line">      &lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>FancyBorder&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><code>JSX</code>标签中的所有内容都会作为一个 <code>children</code> prop 传递给 <code>FancyBorder</code> 组件。因为 <code>FancyBorder</code> 将 <code>{props.children}</code> 渲染在一个 <code>&lt;div&gt;</code> 中，被传递的这些子组件最终都会出现在输出结果中。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SplitPane</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"SplitPane"</span>&gt;</span><br><span class="line">      &lt;div className=<span class="string">"SplitPane-left"</span>&gt;</span><br><span class="line">        &#123;props.left&#125;      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;div className="SplitPane-right"&gt;</span></span><br><span class="line"><span class="regexp">        &#123;props.right&#125;      &lt;/</span>div&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function App() &#123;</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;SplitPane</span></span><br><span class="line"><span class="regexp">      left=&#123;</span></span><br><span class="line"><span class="regexp">        &lt;Contacts /</span>&gt;      &#125;</span><br><span class="line">      right=&#123;</span><br><span class="line">        &lt;Chat /&gt;      &#125; /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><code>&lt;Contacts /&gt;</code> 和 <code>&lt;Chat /&gt;</code> 之类的 React 元素本质就是对象（object），所以你可以把它们当作 props，像其他数据一样传递。这种方法可能使你想起别的库中“槽”（slot）的概念，但在 React 中没有“槽”这一概念的限制，你可以将任何东西作为 props 进行传递。</p>
<h4 id="组件的默认值"><a href="#组件的默认值" class="headerlink" title="组件的默认值"></a>组件的默认值</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">	<span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">		init: <span class="number">11</span></span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 固定写法</span></span><br></pre></td></tr></table></figure></div>

<ul>
<li>注意：<ul>
<li>如果父组件传值则会默认替换掉，<strong>无需手动替换</strong></li>
<li><strong>如果默认值有的属性，传值却没有的属性将会清空</strong></li>
</ul>
</li>
</ul>
<blockquote>
<p>案例1： 使用.map函数来渲染数组<br>案例2： 把案例1的渲染的数组抽取两个组件，有状态组件和无状态组件<br>案例3： 样式优化<br>案例4： 把样式抽离到单独的JSX文件里去<br>案例5： 使用本地存储,配合生命周期函数，写出评论列表案例，</p>
</blockquote>
<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><ul>
<li>React 事件的命名采用小驼峰式（camelCase），而不是纯小写。</li>
<li>使用 JSX 语法时你需要传入一个函数作为事件处理函数，而不是一个字符串c。</li>
</ul>
<p>在阻止默认行为的时候需要在事件处理函数中调用<code>e.preventDefault()</code></p>
<p>如果你想异步访问事件属性，你需在事件上调用 <code>event.persist()</code>，此方法会从池中移除合成事件，允许用户代码保留对事件的引用。</p>
<h4 id="this指向问题"><a href="#this指向问题" class="headerlink" title="this指向问题"></a>this指向问题</h4><p><strong>class</strong>中的方法不会默认绑定<strong>this</strong></p>
<p>class 的方法默认不会<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind" target="_blank" rel="noopener">绑定</a> <code>this</code>。如果你忘记绑定 <code>this.handleClick</code> 并把它传入了 <code>onClick</code>，当你调用这个函数的时候 <code>this</code> 的值为 <code>undefined</code>。</p>
<p>这并不是 React 特有的行为；这其实与 <a href="https://www.smashingmagazine.com/2014/01/understanding-javascript-function-prototype-bind/" target="_blank" rel="noopener">JavaScript 函数工作原理</a>有关。通常情况下，如果你没有在方法后面添加 <code>()</code>，例如 <code>onClick={this.handleClick}</code>，你应该为这个方法绑定 <code>this</code>。</p>
<p>三种解决方法：</p>
<ul>
<li>在使用函数的时候用<strong>bind</strong>方法绑定</li>
<li>创建方法的时候使用箭头函数</li>
<li>在onclick中使用<code>onClick={()=&gt; this.fun()}</code><ul>
<li>但如果该回调函数作为 prop 传入子组件时，这些组件可能会进行额外的重新渲染。</li>
</ul>
</li>
</ul>
<h4 id="传递参数"><a href="#传递参数" class="headerlink" title="传递参数"></a>传递参数</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;button onClick=&#123;(e) =&gt; <span class="keyword">this</span>.deleteRow(id, e)&#125;&gt;Delete Row&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;button onClick=&#123;this.deleteRow.bind(this, id)&#125;&gt;Delete Row&lt;/</span>button&gt;</span><br></pre></td></tr></table></figure></div>

<p>上述两种方式是等价的，分别通过<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank" rel="noopener">箭头函数</a>和 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind" target="_blank" rel="noopener"><code>Function.prototype.bind</code></a> 来实现。</p>
<p>在这两种情况下，React 的事件对象 <code>e</code> 会被作为第二个参数传递。如果通过箭头函数的方式，事件对象必须显式的进行传递，而通过 <code>bind</code> 的方式，事件对象以及更多的参数将会被隐式的进行传递。</p>
<h3 id="React组件的生命周期"><a href="#React组件的生命周期" class="headerlink" title="React组件的生命周期"></a>React组件的生命周期</h3><blockquote>
<p>我们可以为 class 组件声明一些特殊的方法，当组件挂载或卸载时就会去执行这些方法：这些方法叫做“生命周期方法”。</p>
</blockquote>
<p>React16.4的最新生命周期：</p>
<p><strong>挂载：</strong></p>
<p>当组件实例被创建并插入 DOM 中时，其生命周期调用顺序如下：</p>
<ol>
<li><a href="https://react.docschina.org/docs/react-component.html#constructor" target="_blank" rel="noopener"><strong><code>constructor()</code></strong></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#static-getderivedstatefromprops" target="_blank" rel="noopener"><code>static getDerivedStateFromProps()</code></a></li>
<li><a href="https://react.docschina.org/docs/react-component.html#render" target="_blank" rel="noopener"><strong><code>render()</code></strong></a>：渲染DOM，render执行完，内存中就有了完整的虚拟DOM了<ul>
<li>等于Vue中的beforeMount</li>
</ul>
</li>
<li><code>componentDidMount</code>： 组件完成了挂载，组件已经显示到了页面上，当这个方法执行完了，组件就进入运行阶段了<ul>
<li>等于Vue中的mounted</li>
</ul>
</li>
</ol>
<p><strong>更新：</strong></p>
<p>当组件的 props 或 state 发生变化时会触发更新。组件更新的生命周期调用顺序：</p>
<ol>
<li><a href="https://react.docschina.org/docs/react-component.html#static-getderivedstatefromprops" target="_blank" rel="noopener"><code>static getDerivedStateFromProps()</code></a></li>
<li><code>shouldComponentUpdate(nextProps,nextState)</code>：state发生改变时调用<ul>
<li>组件将要被更新，此时，组件尚未开始更新，但是，形参中的<strong>state</strong>和<strong>props</strong>肯定是最新的</li>
<li>在<strong>shouldComponentUpdate</strong>中要求必须返回一个布尔值。在<strong>shouldComponentUpdate</strong>中，如果返回值是<strong>false</strong>，则不会继续执行后续的生命周期函数，而是直接退回到了运行中的状态，此时有后续的render函数并没有被调用，因此，页面不会更新，但是，组件中的state状态，却被修改了</li>
</ul>
</li>
<li><code>render</code></li>
<li><code>getSnapshotBeforeUpdate()</code></li>
<li><code>componentDidUpdate(prevProps,prevState)</code></li>
</ol>
<p><strong>卸载：</strong></p>
<ul>
<li><code>componentWillUnmount</code>：组件将要被卸载，此时组件还可以正常使用</li>
</ul>
<p>不推荐使用已经：</p>
<ol>
<li><p><code>UNSAFE_componentWillReceiveProps</code>：props发生改变时调用</p>
<ul>
<li>组件将要接收新属性，此时，只要这个方法被出发，就证明父组件为当前子组件传递新的属性值。此函数里有一个参数<strong>nextProps</strong></li>
<li><strong>注意：</strong>在props没发生改变的时候也会触发，需自行去判断<strong>this.props和nextProps</strong>的值做对比</li>
</ul>
</li>
<li><p><code>UNSAFE_componentWillUpdate(nextProps,nextState)</code></p>
</li>
<li><p><code>UNSAFE_componentWillMount</code>： 组件将要被挂在，此时还没有开始渲染虚拟DOM</p>
<ul>
<li>等于Vue中的created</li>
</ul>
</li>
</ol>
<h4 id="生命周期注意点"><a href="#生命周期注意点" class="headerlink" title="生命周期注意点"></a>生命周期注意点</h4><h5 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h5><ul>
<li><p><strong>如果不初始化 state 或不进行方法绑定，则不需要为 React 组件实现构造函数。</strong></p>
</li>
<li><p><strong>避免将 props 的值复制给 state！这是一个常见的错误</strong></p>
</li>
</ul>
<p><strong>注意：</strong>在React16.9中对一些生命周期函数进行了重命名，如下</p>
<ul>
<li><code>componentWillMount → UNSAFE_componentWillMount</code></li>
<li><code>componentWillReceiveProps → UNSAFE_componentWillReceiveProps</code></li>
<li><code>componentWillUpdate → UNSAFE_componentWillUpdate</code></li>
</ul>
<p>旧的生命周期函数还是可以使用的，只是使用的时候会报警告，在React17中会把这些旧生命周期进行移除。</p>
<p>当然更新了这些生命周期函数的前缀也已经告你你了是不安全的<code>UNSAFE === 不安全的</code>。所以即使改了新名字，也是不推荐使用的。为此官方出现了一些新的生命周期函数。但是又不推荐使用，官方自己也贴上了不常用使用的标签</p>
<ul>
<li><p><code>static getDerivedStateFromProps(props, state)</code></p>
</li>
<li><p><code>getSnapshotBeforeUpdate(prevProps, prevState)</code></p>
</li>
</ul>
<h3 id="实现双向数据绑定"><a href="#实现双向数据绑定" class="headerlink" title="实现双向数据绑定"></a>实现双向数据绑定</h3><p>在 React 中没有向Vue中有个 v-modeul 属性可以直接事项双向数据绑定<br>在 React 中没有提供这个指令或者 API<br>所以要想实现双向数据绑定，要靠 onChange 事件</p>
<ol>
<li><p>在 Vue 中，有 v-model 指令来实现双向数据绑定，但是，在 React 中，根本没有指令的概念，因此 React 默认也不支持双向数据绑定</p>
</li>
<li><p>React只支持，把数据传输到页面，但是，无法自动实现数据从页面传输到state中进行保存，也就是React不支持数据的自动逆向传输，只是实现了数据的单项绑定</p>
</li>
<li><p>在自己实现双向数据绑定时，一定会用到input，如果input的value值绑定了state的值，那么，必须<br>同时为表单元素绑定 readOnly ，或者提供 onChange 事件</p>
<ol>
<li>如果提供了readOnly 表示这个元素只读不能被修改</li>
<li>如果提供了onChange 表示这个元素的值可以被修改，但是要自己定义修改的逻辑</li>
</ol>
</li>
<li><p>实现</p>
<ul>
<li>获取元素<ol>
<li>使用 document.getElementById的方式来获取DOM 元素</li>
<li>使用 ref 来获取元素</li>
<li>使用事件机制的 event 对象来获取元素<ul>
<li>如果你想异步访问事件属性，你需在事件上调用 <code>event.persist()</code>，此方法会从池中移除合成事件，允许用户代码保留对事件的引用。</li>
</ul>
</li>
</ol>
</li>
<li>数据回邦<ol>
<li>通过 this.setState 给他绑定回去，即可实现双向数据绑定</li>
</ol>
</li>
</ul>
</li>
</ol>
<h3 id="key"><a href="#key" class="headerlink" title="key"></a>key</h3><p>key 帮助 React 识别哪些元素改变了，比如被添加或删除。因此你应当给数组中的每一个元素赋予一个确定的标识。</p>
<p>一个元素的 key 最好是这个元素在列表中拥有的一个独一无二的字符串。通常，我们使用数据中的 id 来作为元素的 key。</p>
<p>如果列表项目的顺序可能会变化，我们不建议使用索引来用作 key 值，因为这样做会导致性能变差，还可能引起组件状态的问题。</p>
<h3 id="受控组件"><a href="#受控组件" class="headerlink" title="受控组件"></a>受控组件</h3><p>在React中表单元素通常都会提交</p>
<p>而Ract不喜欢直接使用form中action方式去提交数据，而是在提交按钮绑定方法去提交，这样可以绑定state可以更好的拿到数据</p>
<p>在使用<strong>select</strong>组件的时候，给需要默认显示的项添加<strong>selected</strong>是无效的，需要在select标签中用value来指定默认展示项</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> &lt;select value=<span class="string">"coconut"</span> onChange=&#123;<span class="keyword">this</span>.handleChange&#125;&gt;</span><br><span class="line">     &lt;option value=<span class="string">"grapefruit"</span>&gt;葡萄柚&lt;<span class="regexp">/option&gt;</span></span><br><span class="line"><span class="regexp">    &lt;option value="lime"&gt;酸橙&lt;/</span>option&gt;</span><br><span class="line">    &lt;option value=<span class="string">"coconut"</span>&gt;椰子&lt;<span class="regexp">/option&gt;</span></span><br><span class="line"><span class="regexp">    &lt;option value="mango"&gt;芒果&lt;/</span>option&gt;</span><br><span class="line">&lt;<span class="regexp">/select&gt;</span></span><br></pre></td></tr></table></figure></div>



<h4 id="受控输入空值"><a href="#受控输入空值" class="headerlink" title="受控输入空值"></a>受控输入空值</h4><p>在<a href="https://react.docschina.org/docs/forms.html#controlled-components" target="_blank" rel="noopener">受控组件</a>上指定 value 的 prop 会阻止用户更改输入。如果你指定了 <code>value</code>，但输入仍可编辑，则可能是你意外地将<code>value</code> 设置为 <code>undefined</code> 或 <code>null</code>。</p>
<p>下面的代码演示了这一点。（输入最初被锁定，但在短时间延迟后变为可编辑。）</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"hi"</span> /&gt;</span></span>, mountNode);</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&#123;null&#125;</span> /&gt;</span></span>, mountNode);</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure></div>











<h2 id="State-amp-数据校验"><a href="#State-amp-数据校验" class="headerlink" title="State &amp; 数据校验"></a>State &amp; 数据校验</h2><h3 id="不要直接修改state"><a href="#不要直接修改state" class="headerlink" title="不要直接修改state"></a>不要直接修改state</h3><p>不要直接<code>this.state.comment = &quot;hello&quot;</code><br>而是    <code>this.setState({comment: &quot;hello&quot;})</code></p>
<h3 id="State-的更新可能是异步的"><a href="#State-的更新可能是异步的" class="headerlink" title="State 的更新可能是异步的"></a>State 的更新可能是异步的</h3><p>将 <code>setState()</code> 视为<em>请求</em>而不是立即更新组件的命令。为了更好的感知性能，React 会延迟调用它，然后通过一次传递更新多个组件。React 并不会保证 state 的变更会立即生效。</p>
<p>出于性能考虑，<strong>React</strong>可能会把多个<code>setState()</code>调用合并成一个调用</p>
<p>因为<code>this.props</code>和<code>this.state</code>可能会异步更新，所以你不要依赖他们的值来更新下一个状态</p>
<p>因此可能没及时的拿到数据</p>
<p>要解决上面这个问题，可以让<code>setState()</code><strong>接收一个函数而不是一个对象</strong>。这个函数用上了一个state作为日第一个参数，将此次更新被应用时的props作为第二个参数：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.setState(<span class="function">(<span class="params">state, props</span>) =&gt;</span> (&#123;</span><br><span class="line">  counter: state.counter + props.increment</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure></div>

<p>或者通过<code>return</code>一个对象</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.setState(<span class="function"><span class="keyword">function</span>(<span class="params">state, props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    counter: state.counter + props.increment</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div>





<h3 id="State的更新会被合并"><a href="#State的更新会被合并" class="headerlink" title="State的更新会被合并"></a>State的更新会被合并</h3><p>当你调用 <code>setState()</code> 的时候，React 会把你提供的对象合并到当前的 state。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">  fetchPosts().then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      posts: response.posts      &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  fetchComments().then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      comments: response.comments      &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>这里的合并是浅合并，所以 <code>this.setState({comments})</code> 完整保留了 <code>this.state.posts</code>， 但是完全替换了 <code>this.state.comments</code>。</p>
<p>在传值的时候，不知道该传什么类型的值时，我们可以在代码中规定好，如果不符合对应的数据类型就会报错<br>需要React提供的第三方包来实现<code>prop-types</code><br>引入的时候必须大写</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import PropTypes from &quot;prop-types&quot;</span><br><span class="line"></span><br><span class="line">class Person extends React.Component &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.propTypes &#x3D; &#123;</span><br><span class="line">	name: PropTypes.string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 固定写法</span><br><span class="line">&#x2F;&#x2F; 从version 15.5抽离成单独的包</span><br></pre></td></tr></table></figure></div>



<ul>
<li>修改状态里的值<br>跟vuex的理念一样，不推荐直接操作，需要有个函数包装一下</li>
</ul>
<ul>
<li>ref的用法<br>React中的ref用法跟Vue中差不多<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;div ref&#x3D;&quot;div1&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.log(this.refs.div1);		&#x2F;&#x2F; React中的用法</span><br><span class="line">console.log(this.$refs.div1);		&#x2F;&#x2F; Vue中的用法</span><br></pre></td></tr></table></figure></div>











</li>
</ul>
<h2 id="React进阶"><a href="#React进阶" class="headerlink" title="React进阶"></a>React进阶</h2><h3 id="代码分割"><a href="#代码分割" class="headerlink" title="代码分割"></a>代码分割</h3><p>在你的应用中引入代码分割的最佳方式是通过动态 <code>import()</code> 语法。</p>
<p><strong>使用之前：</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; add &#125; <span class="keyword">from</span> <span class="string">'./math'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">16</span>, <span class="number">26</span>));</span><br></pre></td></tr></table></figure></div>

<p><strong>使用之后：</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="string">"./math"</span>).then(<span class="function"><span class="params">math</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(math.add(<span class="number">16</span>, <span class="number">26</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div>

<p>注意三点：</p>
<ul>
<li><p>当 Webpack 解析到该语法时，会自动进行代码分割。如果你使用 Create React App，该功能已开箱即用，你可以<a href="https://facebook.github.io/create-react-app/docs/code-splitting" target="_blank" rel="noopener">立刻使用</a>该特性。<a href="https://nextjs.org/docs/advanced-features/dynamic-import" target="_blank" rel="noopener">Next.js</a> 也已支持该特性而无需进行配置。</p>
</li>
<li><p>如果你自己配置 Webpack，你可能要阅读下 Webpack 关于<a href="https://webpack.docschina.org/guides/code-splitting/" target="_blank" rel="noopener">代码分割</a>的指南。你的 Webpack 配置应该<a href="https://gist.github.com/gaearon/ca6e803f5c604d37468b0091d9959269" target="_blank" rel="noopener">类似于此</a>。</p>
</li>
<li><p>当使用 <a href="https://babel.docschina.org/" target="_blank" rel="noopener">Babel</a> 时，你要确保 Babel 能够解析动态 import 语法而不是将其进行转换。对于这一要求你需要 <a href="https://yarnpkg.com/en/package/babel-plugin-syntax-dynamic-import" target="_blank" rel="noopener">babel-plugin-syntax-dynamic-import</a> 插件。</p>
</li>
</ul>
<h3 id="懒加载"><a href="#懒加载" class="headerlink" title="懒加载"></a>懒加载</h3><p>懒加载其实就是延时加载，即当对象需要用到的时候再去加载。提高性能</p>
<p><strong>使用之前：</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import OtherComponent from &#39;.&#x2F;OtherComponent&#39;;</span><br></pre></td></tr></table></figure></div>

<p><strong>使用之后：</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const OtherComponent &#x3D; React.lazy(() &#x3D;&gt; import(&#39;.&#x2F;OtherComponent&#39;));</span><br></pre></td></tr></table></figure></div>

<p>此代码将会在组件首次渲染时，自动导入包含 <code>OtherComponent</code> 组件的包。</p>
<p><code>React.lazy</code> 接受一个函数，这个函数需要动态调用 <code>import()</code>。它必须返回一个 <code>Promise</code>，该 Promise 需要 resolve 一个 <code>defalut</code> export 的 React 组件。</p>
<p>然后应在 <code>Suspense</code> 组件中渲染 lazy 组件，如此使得我们可以使用在等待加载 lazy 组件时做优雅降级（如 loading 指示器等）。</p>
<h3 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h3><blockquote>
<p>下面的例子已经更新为使用在 React 16.3 版本引入的 <code>React.createRef()</code> API。如果你正在使用一个较早版本的 React，我们推荐你使用<a href="https://react.docschina.org/docs/refs-and-the-dom.html#callback-refs" target="_blank" rel="noopener">回调形式的 refs</a>。</p>
</blockquote>
<p>创建Ref</p>
<ul>
<li><p><code>this.myRef = React.createRef()</code></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyComponent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.myRef = React.createRef();</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&#123;this.myRef&#125;</span> /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

</li>
</ul>
<p>当 ref 被传递给 <code>render</code> 中的元素时，对该节点的引用可以在 ref 的 <code>current</code> 属性中被访问。</p>
<p>为class组件添加Ref</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AutoFocusTextInput</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.textInput = React.createRef();  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    <span class="keyword">this</span>.textInput.current.focusTextInput();  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;CustomTextInput ref=&#123;<span class="keyword">this</span>.textInput&#125; /&gt;    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>请注意，这仅在 <code>CustomTextInput</code> 声明为 class 时才有效：</p>
<p>Refs 与函数组件</p>
<p>默认情况下，<strong>你不能在函数组件上使用 <code>ref</code> 属性</strong>，因为它们没有实例</p>
<p>不管怎样，你可以<strong>在函数组件内部使用 <code>ref</code> 属性</strong>，只要它指向一个 DOM 元素或 class 组件：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CustomTextInput</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 这里必须声明 textInput，这样 ref 才可以引用它  const textInput = useRef(null);</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleClick</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    textInput.current.focus();  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        type=<span class="string">"text"</span></span><br><span class="line">        ref=&#123;textInput&#125; /&gt;      <span class="xml"><span class="tag">&lt;<span class="name">input</span></span></span></span><br><span class="line"><span class="xml">        type="button"</span></span><br><span class="line"><span class="xml">        value="Focus the text input"</span></span><br><span class="line"><span class="xml">        onClick=&#123;handleClick&#125;</span></span><br><span class="line"><span class="xml">      /&gt;</span></span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></div>



<p>回调Ref</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomTextInput</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.setTextInputRef = <span class="string">""</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="comment">// 使用 `ref` 的回调函数将 text 输入框 DOM 节点的引用存储到 React</span></span><br><span class="line">    <span class="comment">// 实例上（比如 this.textInput）</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input</span><br><span class="line">          type=<span class="string">"text"</span></span><br><span class="line">          ref=&#123;element =&gt; <span class="keyword">this</span>.setTextInputRef = element&#125;        /&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></div>







<h4 id="Ref-转发"><a href="#Ref-转发" class="headerlink" title="Ref 转发"></a>Ref 转发</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FancyButton</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;button className=<span class="string">"FancyButton"</span>&gt;</span><br><span class="line">      &#123;props.children&#125;</span><br><span class="line">    &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const FancyButton = React.forwardRef((props, ref) =&gt; (</span></span><br><span class="line"><span class="regexp">  &lt;button ref=&#123;ref&#125; className="FancyButton"&gt;</span></span><br><span class="line"><span class="regexp">    &#123;props.children&#125;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>button&gt;</span><br><span class="line">));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 你可以直接获取 DOM button 的 ref：</span></span><br><span class="line"><span class="keyword">const</span> ref = React.createRef();</span><br><span class="line">&lt;FancyButton ref=&#123;ref&#125;&gt;Click me!&lt;<span class="regexp">/FancyButton&gt;;</span></span><br></pre></td></tr></table></figure></div>

<p>这样，使用 <code>FancyButton</code> 的组件可以获取底层 DOM 节点 <code>button</code> 的 ref ，并在必要时访问，就像其直接使用 DOM <code>button</code> 一样。</p>
<p>以下是对上述示例发生情况的逐步解释：</p>
<ol>
<li>我们通过调用 <code>React.createRef</code> 创建了一个 <a href="https://react.docschina.org/docs/refs-and-the-dom.html" target="_blank" rel="noopener">React ref</a> 并将其赋值给 <code>ref</code> 变量。</li>
<li>我们通过指定 <code>ref</code> 为 JSX 属性，将其向下传递给 ``。</li>
<li>React 传递 <code>ref</code> 给 <code>forwardRef</code> 内函数 <code>(props, ref) =&gt; ...</code>，作为其第二个参数。</li>
<li>我们向下转发该 <code>ref</code> 参数到 ``，将其指定为 JSX 属性。</li>
<li>当 ref 挂载完成，<code>ref.current</code> 将指向 `` DOM 节点。</li>
</ol>
<blockquote>
<p>注意</p>
<p>第二个参数 <code>ref</code> 只在使用 <code>React.forwardRef</code> 定义组件时存在。常规函数和 class 组件不接收 <code>ref</code> 参数，且 props 中也不存在 <code>ref</code>。</p>
<p>Ref 转发不仅限于 DOM 组件，你也可以转发 refs 到 class 组件实例中。</p>
</blockquote>
<h3 id="Fragments"><a href="#Fragments" class="headerlink" title="Fragments"></a>Fragments</h3><p>通常我们都会有一个需求</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> (</span><br><span class="line">&lt;div&gt;</span><br><span class="line">		&lt;ul&gt;</span><br><span class="line">    		&lt;List data=&#123;data&#125;/&gt;</span><br><span class="line">    	&lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">   &lt;/</span>div&gt;</span><br><span class="line">)  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">List</span>(<span class="params">props</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">    	&lt;div&gt;</span><br><span class="line">        &#123;props.data.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">         	<span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">        &#125;)&#125;</span><br><span class="line">       &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></div>

<p>由于<strong>List</strong>组件需要一个根元素，所以使用了<strong>div</strong>作为的根元素，但是再<strong>ul</strong>列表里放置<strong>div</strong>明显不符合语义</p>
<p>使用<strong>Fragments</strong>解决问题</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">List</span>(<span class="params">props</span>)</span>&#123;</span><br><span class="line">     <span class="keyword">return</span> (</span><br><span class="line">     	&lt;React.Fragment&gt;</span><br><span class="line">         &#123;props.data.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">          	<span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">         &#125;)&#125;</span><br><span class="line">        &lt;<span class="regexp">/React.Fragment&gt;</span></span><br><span class="line"><span class="regexp">     )</span></span><br><span class="line"><span class="regexp"> &#125;</span></span><br><span class="line"><span class="regexp"> </span></span><br><span class="line"><span class="regexp"> 或者使用空标签</span></span><br><span class="line"><span class="regexp"> </span></span><br><span class="line"><span class="regexp">function List(props)&#123;</span></span><br><span class="line"><span class="regexp">     return (</span></span><br><span class="line"><span class="regexp">     	&lt;&gt;</span></span><br><span class="line"><span class="regexp">         &#123;props.data.map(item =&gt; &#123;</span></span><br><span class="line"><span class="regexp">          	return &lt;li&gt;&#123;item&#125;&lt;/</span>li&gt;</span><br><span class="line">         &#125;)&#125;</span><br><span class="line">        &lt;<span class="regexp">/&gt;</span></span><br><span class="line"><span class="regexp">     )</span></span><br><span class="line"><span class="regexp"> &#125;</span></span><br></pre></td></tr></table></figure></div>

<p>当然<strong>Fragments</strong>也可以带<strong>key</strong>属性</p>
<h3 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h3><ol>
<li>当组件的嵌套光系开始变得复杂时，传递数据将会变得很麻烦</li>
<li>解决方法：用 context 去解决</li>
<li>context 不同于 Vuex ， context运用其来比较麻烦</li>
<li>应用场景<ol>
<li>当许多组件需要运用到同一个数据时</li>
</ol>
</li>
<li>用法：</li>
</ol>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">第一种用法，老用法（不推荐使用）</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">father</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">constructor</span>(props)&#123;</span><br><span class="line">		<span class="keyword">super</span>(props);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">this</span>.state = &#123;</span><br><span class="line">			color: <span class="string">"red"</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="number">1.</span> 在父组件中，定义一个 <span class="function"><span class="keyword">function</span> ，这个 <span class="title">function</span> 有固定名称，叫做 <span class="title">getChildContext</span> ，内部，必须返回一个对象，这个对象，就是要共享给所有子组件的数据</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	<span class="title">getChildContext</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> &#123;</span><br><span class="line">			color: <span class="keyword">this</span>.state.color</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="number">2.</span> 使用属性校验，规定一下传递给 子组件的数据类型，需要定义一个静态属性 childContextTypes ，固定名称</span><br><span class="line"></span><br><span class="line">	<span class="keyword">static</span> childContextTypes = &#123;</span><br><span class="line">		color: PropTypes.string </span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">son</span> <span class="title">extentds</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="number">3.</span> 在子组件，先进行属性校验，去校验父组件床底过来的参数类型</span><br><span class="line">	<span class="keyword">static</span> contextTypes = &#123;</span><br><span class="line">		color: PropTypes.string</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	render()&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">			<span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&#123;&#123;color:this.context.color&#125;&#125;</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">第二种用法，新用法</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> React,&#123;Component,createContext&#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> BatteryContext = createContext();</span><br><span class="line"></span><br><span class="line"><span class="comment">//声明一个孙组件</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Leaf</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(props)&#123;</span><br><span class="line">        <span class="keyword">super</span>(props);</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;BatteryContext.Consumer&gt;</span><br><span class="line">            &#123;</span><br><span class="line">            value =&gt; <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Battery : &#123;value&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &lt;<span class="regexp">/BatteryContext.Consumer&gt;</span></span><br><span class="line"><span class="regexp">      )</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">  </span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/声明一个子组件</span></span><br><span class="line"><span class="regexp">  class Middle extends Component &#123;</span></span><br><span class="line"><span class="regexp">    render() &#123;</span></span><br><span class="line"><span class="regexp">      return &lt;Leaf /</span>&gt; </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    render()&#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;BatteryContext.Provider value=&#123;<span class="number">60</span>&#125;&gt;</span><br><span class="line">          &lt;Middle /&gt;</span><br><span class="line">        &lt;<span class="regexp">/BatteryContext.Provider&gt;</span></span><br><span class="line"><span class="regexp">      );</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">  </span></span><br><span class="line"><span class="regexp">export default App;</span></span><br></pre></td></tr></table></figure></div>







<h3 id="高阶组件（未理解）"><a href="#高阶组件（未理解）" class="headerlink" title="高阶组件（未理解）"></a>高阶组件（未理解）</h3><p>如果一个函数 接受一个或多个组件作为参数并且返回一个组件 就可称之为 高阶组件。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Button = <span class="function">(<span class="params">props</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span>&#123;props.children&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span> <span class="comment">//无状态组件</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Label</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;<span class="comment">//传统组件</span></span><br><span class="line"> </span><br><span class="line">    render()&#123;</span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            &lt;label&gt;&#123;<span class="keyword">this</span>.props.children&#125;&lt;<span class="regexp">/label&gt;</span></span><br><span class="line"><span class="regexp">        )</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">class App extends React.Component&#123;/</span><span class="regexp">/根组件</span></span><br><span class="line"><span class="regexp">    render()&#123;</span></span><br><span class="line"><span class="regexp">        return(</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;</span></span><br><span class="line"><span class="regexp">                &lt;Button&gt;button&lt;/</span>Button&gt;</span><br><span class="line">                &lt;br/&gt;</span><br><span class="line">                &lt;Label&gt;label&lt;<span class="regexp">/Label&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = App</span><br></pre></td></tr></table></figure></div>



<h3 id="性能优化（还没看）"><a href="#性能优化（还没看）" class="headerlink" title="性能优化（还没看）"></a>性能优化（还没看）</h3><h4 id="Profiler"><a href="#Profiler" class="headerlink" title="Profiler"></a>Profiler</h4><h3 id="Portals（没理解）"><a href="#Portals（没理解）" class="headerlink" title="Portals（没理解）"></a>Portals（没理解）</h3><p>插槽能将子节点渲染到父组件的DOM层次之外</p>
<p>用法：<code>ReactDOM.createPortal(child, container)</code></p>
<h3 id="不使用ES6和JSX（了解即可）"><a href="#不使用ES6和JSX（了解即可）" class="headerlink" title="不使用ES6和JSX（了解即可）"></a>不使用ES6和JSX（了解即可）</h3><p>ES6的有状态组件可以使用<code>create-react-class</code>模块</p>
<h3 id="render-props"><a href="#render-props" class="headerlink" title="render props"></a>render props</h3><p> 是指一种在 React 组件之间使用一个值为函数的 prop 共享代码的简单技术</p>
<p>最直观给出两段代码，就能看出区别：</p>
<p>之前：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// App父组件</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (</span><br><span class="line">		&lt;div&gt;</span><br><span class="line">			&lt;Mouse /&gt;&#125;</span><br><span class="line">		&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">	)</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ Mouse子组件</span></span><br><span class="line"><span class="regexp">class Mouse extends React.Component &#123;</span></span><br><span class="line"><span class="regexp">    handleMouseMove(e)&#123;</span></span><br><span class="line"><span class="regexp">            const &#123;clientX,clientY&#125; = e;</span></span><br><span class="line"><span class="regexp">            this.setState(&#123;</span></span><br><span class="line"><span class="regexp">                x:clientX,</span></span><br><span class="line"><span class="regexp">                y:clientY</span></span><br><span class="line"><span class="regexp">            &#125;)</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    render()&#123;</span></span><br><span class="line"><span class="regexp">        return (</span></span><br><span class="line"><span class="regexp">            &lt;div className="Mouse" onMouseMove=&#123;this.handleMouseMove&#125;&gt;</span></span><br><span class="line"><span class="regexp">                &lt;p&gt;position is (&#123;x&#125;,&#123;y&#125;)&lt;/</span>p&gt;</span><br><span class="line">               	&lt;Cat &#123;...this.state&#125;/&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        )</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ Cat孙子组件</span></span><br><span class="line"><span class="regexp">function Cat(props)&#123;</span></span><br><span class="line"><span class="regexp">    return (</span></span><br><span class="line"><span class="regexp">    	 &lt;p&gt;position is &#123;props.x&#125;,&#123;props.y&#125;&lt;/</span>p&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>render props：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// App父组件</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (</span><br><span class="line">		&lt;div&gt;</span><br><span class="line">			&lt;Mouse render=&#123;props =&gt; <span class="xml"><span class="tag">&lt;<span class="name">Cat</span> &#123;<span class="attr">...props</span>&#125; /&gt;</span></span>&#125;</span><br><span class="line">		&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">	)</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ Mouse子组件</span></span><br><span class="line"><span class="regexp">class Mouse extends React.Component &#123;</span></span><br><span class="line"><span class="regexp">    handleMouseMove(e)&#123;</span></span><br><span class="line"><span class="regexp">            const &#123;clientX,clientY&#125; = e;</span></span><br><span class="line"><span class="regexp">            this.setState(&#123;</span></span><br><span class="line"><span class="regexp">                x:clientX,</span></span><br><span class="line"><span class="regexp">                y:clientY</span></span><br><span class="line"><span class="regexp">            &#125;)</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    render()&#123;</span></span><br><span class="line"><span class="regexp">        return (</span></span><br><span class="line"><span class="regexp">            &lt;div className="Mouse" onMouseMove=&#123;this.handleMouseMove&#125;&gt;</span></span><br><span class="line"><span class="regexp">                &lt;p&gt;position is (&#123;x&#125;,&#123;y&#125;)&lt;/</span>p&gt;</span><br><span class="line">                &#123;<span class="keyword">this</span>.props.render(&#123;x,y&#125;)&#125;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        )</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ Cat孙子组件</span></span><br><span class="line"><span class="regexp">function Cat(props)&#123;</span></span><br><span class="line"><span class="regexp">    return (</span></span><br><span class="line"><span class="regexp">    	 &lt;p&gt;position is &#123;props.x&#125;,&#123;props.y&#125;&lt;/</span>p&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>这里同样都是在使用<strong>Mouse</strong>组件的坐标计算，而在之前我们是在<strong>Mosue</strong>组件中已经写死了导致与复用性基本为0.</p>
<p>而在用了<strong>render props</strong>之后我们只需要在使用Mouse组件的时候指定<strong>render</strong>属性指定子组件即可，这样如果两个组件都想用<strong>Mouse</strong>组件的坐标就可以很完美的解决问题</p>
<h4 id="使用Props而非render"><a href="#使用Props而非render" class="headerlink" title="使用Props而非render"></a>使用Props而非render</h4><p>重要的是要记住，render prop 是因为模式才被称为 <em>render</em> prop ，你不一定要用名为 <code>render</code> 的 prop 来使用这种模式。事实上， <a href="https://cdb.reacttraining.com/use-a-render-prop-50de598f11ce" target="_blank" rel="noopener"><em>任何</em>被用于告知组件需要渲染什么内容的函数 prop 在技术上都可以被称为 “render prop”</a>.</p>
<p>尽管之前的例子使用了 <code>render</code>，我们也可以简单地使用 <code>children</code> prop！</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Mouse children=&#123;mouse =&gt; (</span><br><span class="line">  &lt;p&gt;鼠标的位置是 &#123;mouse.x&#125;，&#123;mouse.y&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">)&#125;/</span>&gt;</span><br></pre></td></tr></table></figure></div>

<p>记住，<code>children</code> prop 并不真正需要添加到 JSX 元素的 “attributes” 列表中。相反，你可以直接放置到元素的<em>内部</em>！</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Mouse&gt;</span><br><span class="line">  &#123;mouse =&gt; (</span><br><span class="line">    &lt;p&gt;鼠标的位置是 &#123;mouse.x&#125;，&#123;mouse.y&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  )&#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>Mouse&gt;</span><br></pre></td></tr></table></figure></div>



<p>将 Render Props 与 React.PureComponent 一起使用时要小心</p>
<h3 id="静态类型检测"><a href="#静态类型检测" class="headerlink" title="静态类型检测"></a>静态类型检测</h3><p>像 <a href="https://flow.org/" target="_blank" rel="noopener">Flow</a> 和 <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener">TypeScript</a> 等这些静态类型检查器，可以在运行前识别某些类型的问题。他们还可以通过增加自动补全等功能来改善开发者的工作流程。出于这个原因，我们建议在大型代码库中使用 Flow 或 TypeScript 来代替 <code>PropTypes</code>。</p>
<h4 id="Flow"><a href="#Flow" class="headerlink" title="Flow"></a>Flow</h4><p><a href="https://flow.org/" target="_blank" rel="noopener">Flow</a> 是一个针对 JavaScript 代码的静态类型检测器。Flow 由 Facebook 开发，经常与 React 一起使用。Flow 通过特殊的类型语法为变量，函数，以及 React 组件提供注解，帮助你尽早地发现错误。你可以阅读 <a href="https://flow.org/en/docs/getting-started/" target="_blank" rel="noopener">introduction to Flow</a> 来了解它的基础知识</p>
<h4 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h4><p><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener">TypeScript</a> 是一种由微软开发的编程语言。它是 JavaScript 的一个类型超集，包含独立的编译器。作为一种类型语言，TypeScript 可以在构建时发现 bug 和错误，这样程序运行时就可以避免此类错误。您可以通过<a href="https://github.com/Microsoft/TypeScript-React-Starter#typescript-react-starter" target="_blank" rel="noopener">此文档</a> 了解更多有关在 React 中使用 TypeScript 的知识。</p>
<h3 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h3><p><code>StrictMode</code> 是一个用来突出显示应用程序中潜在问题的工具。与 <code>Fragment</code> 一样，<code>StrictMode</code> 不会渲染任何可见的 UI。它为其后代元素触发额外的检查和警告</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ExampleApplication</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Header /&gt;</span><br><span class="line">      &lt;React.StrictMode&gt;        </span><br><span class="line">      &lt;div&gt;</span><br><span class="line">          &lt;ComponentOne /&gt;</span><br><span class="line">          &lt;ComponentTwo /&gt;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>React.StrictMode&gt;      </span><br><span class="line">      &lt;Footer /&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></div>



<p><code>StrictMode</code> 目前有助于：</p>
<ul>
<li><a href="https://react.docschina.org/docs/strict-mode.html#identifying-unsafe-lifecycles" target="_blank" rel="noopener">识别不安全的生命周期</a></li>
<li><a href="https://react.docschina.org/docs/strict-mode.html#warning-about-legacy-string-ref-api-usage" target="_blank" rel="noopener">关于使用过时字符串 ref API 的警告</a></li>
<li><a href="https://react.docschina.org/docs/strict-mode.html#warning-about-deprecated-finddomnode-usage" target="_blank" rel="noopener">关于使用废弃的 findDOMNode 方法的警告</a></li>
<li><a href="https://react.docschina.org/docs/strict-mode.html#detecting-unexpected-side-effects" target="_blank" rel="noopener">检测意外的副作用</a></li>
<li><a href="https://react.docschina.org/docs/strict-mode.html#detecting-legacy-context-api" target="_blank" rel="noopener">检测过时的 context API</a></li>
</ul>
<h3 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h3><blockquote>
<p>react-router：是基本的router包，里边函的内容较多，但是在网页开发中有很多用不到，现在的市面上的课程讲的基本都是这个包的教程。</p>
</blockquote>
<blockquote>
<p>react-router-dom：随着react生态环境的壮大，后出现的包，这个包比react-router包轻巧了很多。</p>
</blockquote>
<p> 引入包之后要按需导出三个属性</p>
<p> <code>import {BrowserRouter as Router , Route , Link } from &#39;react-router-dom&#39;;</code><br> <code>import {HashRouter , Route , NavLink , Redirect } from &#39;react-router-dom&#39;;</code></p>
<ol>
<li><p>Rouer表示一个路由的根容器，所有跟路由相关的东西，都要被包裹在 Router 里面</p>
<ul>
<li>一个网站在，只需要使用一次 Router 就好了</li>
<li>在一个Router中，只能有唯一的一个根元素</li>
</ul>
</li>
<li><p>HashRouter的用法是跟Router一样的，HashRouter会有/#</p>
</li>
<li><p>Route 表示一个路由规则，在Route上，有两个比较重要的属性，path 和 component</p>
<ul>
<li>Route 创建的标签，就是路由规则，path 和 component 的用法跟 Vue 一样</li>
<li>这个标签既是路由匹配规则，也是一个占位符</li>
</ul>
</li>
<li><p>Link 表示一个路由的链接，就好比 Vue中的 <router-link></router-link></p>
</li>
<li><p>NavLink</p>
</li>
</ol>
<p>用法</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render(&lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Link to&#x3D;&quot;&#x2F;home&quot;&gt;首页&lt;&#x2F;Link&gt;</span><br><span class="line">      &lt;Link to&#x3D;&quot;&#x2F;about&quot;&gt;关于&lt;&#x2F;Link&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&lt;Redirect path&#x3D;&quot;&#x2F;&quot; to&#x3D;&quot;&#x2F;home&quot; &#x2F;&gt;</span><br><span class="line">    &lt;Route path&#x3D;&quot;&#x2F;home&quot; component&#x3D;&#123;Home&#125;&gt;&lt;&#x2F;Route&gt;</span><br><span class="line">    &lt;Route path&#x3D;&quot;&#x2F;about&quot; component&#x3D;&#123;About&#125;&gt;&lt;&#x2F;Route&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;Router&gt;, document.querySelector(&quot;#app&quot;));</span><br></pre></td></tr></table></figure></div>


<ul>
<li>路由的默认匹配是模糊匹配<ul>
<li>也就是说如果规则是 <code>/home</code>，路由是<code>/home/12</code>也能匹配的上</li>
<li>解决方法： 在Router中添加 exact 的属性变成精准匹配</li>
</ul>
</li>
<li>当俩个路由很相像的时候精准匹配也会匹配上两个路由<ul>
<li>也就是说<code>/movie/detail/2222</code>路由时</li>
<li>规则是：<code>movie/detail/:id</code>和<code>/movie/:type/:page</code>，就算是精准匹配两个路由也都是会匹配到</li>
<li>解决方法：在Router包里导入switch组件，如果匹配到了第一个则不会继续匹配</li>
</ul>
</li>
</ul>
<h4 id="路由的参数"><a href="#路由的参数" class="headerlink" title="路由的参数"></a>路由的参数</h4><p>如果想要从路由规则中，提取匹配到的参数，进行使用，可以使用 this.props.match.params 来访问</p>
<h4 id="路由的传参"><a href="#路由的传参" class="headerlink" title="路由的传参"></a>路由的传参</h4><ul>
<li><p>第一种：通过url传参</p>
<ul>
<li><code>&lt;Link to=&quot;/home?username=sz&quot;&gt;Home&lt;/Link&gt;</code>通过<code>this.props</code>可以查看到具体的参数</li>
</ul>
</li>
<li><p>第二种：<strong>隐式路由传参</strong></p>
<ul>
<li>推荐使用，比较安全，获取传递参数都比较方便</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;Link to&#x3D;&#123;&#123;</span><br><span class="line">          pathname: &#39;about&#39;,</span><br><span class="line">          state: &#123;</span><br><span class="line">            name: &#39;dx&#39;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;&#125;&gt;关于&lt;&#x2F;Link&gt;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>第三种：组件之间的传值</p>
<ul>
<li>在正常情况下我们的路由都是这么写的<code>&lt;Route path=&#39;/test&#39; component={Test} /&gt;</code>这样当要传递一些方法的时候就不行了</li>
<li>改造使用<code>render</code></li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;Link to&#x3D;&#39;&#x2F;test&#39;&gt;测试&lt;&#x2F;Link&gt;</span><br><span class="line">&lt;Route path&#x3D;&#39;&#x2F;test&#39; render&#x3D;&#123;(routeProps) &#x3D;&gt; &#123;</span><br><span class="line">		&#x2F;&#x2F;routeProps就是路由组件传递的参数</span><br><span class="line">          return (</span><br><span class="line">          &#x2F;&#x2F;在原先路由组件参数的情况，扩展绑定父组件对子组件传递的参数</span><br><span class="line">            &lt;Test &#123;...routeProps&#125; name&#x3D;&#39;dx&#39; age&#x3D;&#123;18&#125; &#x2F;&gt;</span><br><span class="line">          )</span><br><span class="line"> &#125;&#125;&gt;&lt;&#x2F;Route&gt;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>第四种：withRouter</p>
<ul>
<li>想要在某个子组件中获取路由的参数，必须得使用路由中的route标签的子组件才能被绑定上路由的参数。为了解决不通过route标签绑定的子组件获取路由参数的问题，需要使用withRouter，一般用在返回首页，返回上一级等按钮上</li>
</ul>
</li>
</ul>
<h3 id="CSS解决方案"><a href="#CSS解决方案" class="headerlink" title="CSS解决方案"></a>CSS解决方案</h3><p>在用webpack打包只能用引入scss和less或者css来写样式，又不像vue中一个组件有专门写样式的地方</p>
<h3 id="请求数据"><a href="#请求数据" class="headerlink" title="请求数据"></a>请求数据</h3><ul>
<li>用ES6的Fetch<ul>
<li>但是Fetch不能跨域，所以要使用第三方包    fetch-jsonp</li>
</ul>
</li>
</ul>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><h3 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h3><p>使用React组件可以将UI拆分为独立且复用的代码片段</p>
<p>可通过以下两种方式来定义组件</p>
<ul>
<li>React.Component</li>
<li>React.PureComponent</li>
</ul>
<p><code>React.PureComponent</code> 与 <a href="https://react.docschina.org/docs/react-api.html#reactcomponent" target="_blank" rel="noopener"><code>React.Component</code></a> 很相似。两者的区别在于 <a href="https://react.docschina.org/docs/react-api.html#reactcomponent" target="_blank" rel="noopener"><code>React.Component</code></a> 并未实现 <a href="https://react.docschina.org/docs/react-component.html#shouldcomponentupdate" target="_blank" rel="noopener"><code>shouldComponentUpdate()</code></a>，而 <code>React.PureComponent</code> 中以浅层对比 prop 和 state 的方式来实现了该函数</p>
<h4 id="React-component"><a href="#React-component" class="headerlink" title="React.component"></a>React.component</h4><p>在 <code>React.Component</code> 的子类中有个必须定义的 <a href="https://react.docschina.org/docs/react-component.html#render" target="_blank" rel="noopener"><code>render()</code></a> 函数。本章节介绍其他方法均为可选。</p>
<h3 id="创建React元素"><a href="#创建React元素" class="headerlink" title="创建React元素"></a>创建React元素</h3><p>建议使用JSX来编写。每个JSX元素都是调用<code>React.createElement</code>的语法糖</p>
<p>如果使用JSX，就不在需要调用以下两个方法</p>
<ul>
<li>createElement</li>
<li>createFactory</li>
</ul>
<h4 id="createElement"><a href="#createElement" class="headerlink" title="createElement"></a>createElement</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">React.createElement( type, [props], [...children])</span><br></pre></td></tr></table></figure></div>

<p>使用 <a href="https://react.docschina.org/docs/introducing-jsx.html" target="_blank" rel="noopener">JSX</a> 编写的代码将会被转换成使用 <code>React.createElement()</code> 的形式。如果使用了 JSX 方式，那么一般来说就不需要直接调用 <code>React.createElement()</code></p>
<h4 id="cloneElement"><a href="#cloneElement" class="headerlink" title="cloneElement"></a>cloneElement</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">React.cloneElement(element, [props], [...children])</span><br></pre></td></tr></table></figure></div>

<p>以 <code>element</code> 元素为样板克隆并返回新的 React 元素。返回元素的 props 是将新的 props 与原始元素的 props 浅层合并后的结果。新的子元素将取代现有的子元素，而来自原始元素的 <code>key</code> 和 <code>ref</code> 将被保留。</p>
<h4 id="createFactory"><a href="#createFactory" class="headerlink" title="createFactory"></a>createFactory</h4><p>此辅助函数已废弃，建议使用 JSX 或直接调用 <code>React.createElement()</code> 来替代它。</p>
<h3 id="Refs"><a href="#Refs" class="headerlink" title="Refs"></a>Refs</h3><h4 id="React-createRef"><a href="#React-createRef" class="headerlink" title="React.createRef"></a>React.createRef</h4><p><code>React.createRef</code> 创建一个能够通过 ref 属性附加到 React 元素的 <a href="https://react.docschina.org/docs/refs-and-the-dom.html" target="_blank" rel="noopener">ref</a>。</p>
<h4 id="React-forwardRef"><a href="#React-forwardRef" class="headerlink" title="React.forwardRef"></a>React.forwardRef</h4><p><code>React.forwardRef</code> 会创建一个React组件，这个组件能够将其接受的 <a href="https://react.docschina.org/docs/refs-and-the-dom.html" target="_blank" rel="noopener">ref</a> 属性转发到其组件树下的另一个组件中。这种技术并不常见，但在以下两种场景中特别有用：</p>
<ul>
<li><a href="https://react.docschina.org/docs/forwarding-refs.html#forwarding-refs-to-dom-components" target="_blank" rel="noopener">转发 refs 到 DOM 组件</a></li>
<li><a href="https://react.docschina.org/docs/forwarding-refs.html#forwarding-refs-in-higher-order-components" target="_blank" rel="noopener">在高阶组件中转发 refs</a></li>
</ul>
<p><code>React.forwardRef</code> 接受渲染函数作为参数。React 将使用 <code>props</code> 和 <code>ref</code> 作为参数来调用此函数。此函数应返回 React 节点。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> FancyButton = React.forwardRef(<span class="function">(<span class="params">props, ref</span>) =&gt;</span> (  <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">ref</span>=<span class="string">&#123;ref&#125;</span> <span class="attr">className</span>=<span class="string">"FancyButton"</span>&gt;</span>    &#123;props.children&#125;</span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">));</span><br><span class="line"></span><br><span class="line"><span class="comment">// You can now get a ref directly to the DOM button:</span></span><br><span class="line"><span class="keyword">const</span> ref = React.createRef();</span><br><span class="line">&lt;FancyButton ref=&#123;ref&#125;&gt;Click me!&lt;<span class="regexp">/FancyButton&gt;;</span></span><br></pre></td></tr></table></figure></div>

<p>在上述的示例中，React 会将 <code>元素的 `ref` 作为第二个参数传递给 `React.forwardRef` 函数中的渲染函数。该渲染函数会将 `ref` 传递给</code> 元素。</p>
<p>因此，当 React 附加了 ref 属性之后，<code>ref.current</code> 将直接指向 `` DOM 元素实例。</p>
<h3 id="Suspense"><a href="#Suspense" class="headerlink" title="Suspense"></a>Suspense</h3><p>Suspense 使得组件可以“等待”某些操作结束后，再进行渲染。目前，Suspense 仅支持的使用场景是：<a href="https://react.docschina.org/docs/code-splitting.html#reactlazy" target="_blank" rel="noopener">通过 React.lazy 动态加载组件</a>。</p>
<h4 id="React-lazy"><a href="#React-lazy" class="headerlink" title="React.lazy"></a>React.lazy</h4><p><code>React.lazy()</code> 允许你定义一个动态加载的组件。这有助于缩减 bundle 的体积，并延迟加载在初次渲染时未用到的组件。</p>
<blockquote>
<p><strong>注意</strong></p>
<p>使用 <code>React.lazy</code> 的动态引入特性需要 JS 环境支持 Promise。在 IE11 及以下版本的浏览器中需要通过引入 polyfill 来使用该特性。</p>
</blockquote>
<h4 id="React-Suspense"><a href="#React-Suspense" class="headerlink" title="React.Suspense"></a>React.Suspense</h4><p><code>React.Suspense</code> 可以指定加载指示器（loading indicator），以防其组件树中的某些子组件尚未具备渲染条件。目前，懒加载组件是 `` 支持的<strong>唯一</strong>用例：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该组件是动态加载的</span></span><br><span class="line"><span class="keyword">const</span> OtherComponent = React.lazy(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./OtherComponent'</span>));</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyComponent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="comment">// 显示 &lt;Spinner&gt; 组件直至 OtherComponent 加载完成</span></span><br><span class="line">    &lt;React.Suspense fallback=&#123;&lt;Spinner /&gt;&#125;&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;OtherComponent /&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>React.Suspense&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>















<h2 id="Hooks"><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h2><p><em>Hook</em> 是 React 16.8 的新增特性。它可以让你在不编写 class 的情况下使用 state 以及其他的 React 特性。Hook 拥有<a href="https://react.docschina.org/docs/hooks-intro.html" target="_blank" rel="noopener">专属文档章节</a>和单独的 API 参考文档：</p>
<ul>
<li><a href="https://react.docschina.org/docs/hooks-reference.html#basic-hooks" target="_blank" rel="noopener">基础 Hook</a><ul>
<li><a href="https://react.docschina.org/docs/hooks-reference.html#usestate" target="_blank" rel="noopener"><code>useState</code></a></li>
<li><a href="https://react.docschina.org/docs/hooks-reference.html#useeffect" target="_blank" rel="noopener"><code>useEffect</code></a></li>
<li><a href="https://react.docschina.org/docs/hooks-reference.html#usecontext" target="_blank" rel="noopener"><code>useContext</code></a></li>
</ul>
</li>
<li><a href="https://react.docschina.org/docs/hooks-reference.html#additional-hooks" target="_blank" rel="noopener">额外的 Hook</a><ul>
<li><a href="https://react.docschina.org/docs/hooks-reference.html#usereducer" target="_blank" rel="noopener"><code>useReducer</code></a></li>
<li><a href="https://react.docschina.org/docs/hooks-reference.html#usecallback" target="_blank" rel="noopener"><code>useCallback</code></a></li>
<li><a href="https://react.docschina.org/docs/hooks-reference.html#usememo" target="_blank" rel="noopener"><code>useMemo</code></a></li>
<li><a href="https://react.docschina.org/docs/hooks-reference.html#useref" target="_blank" rel="noopener"><code>useRef</code></a></li>
<li><a href="https://react.docschina.org/docs/hooks-reference.html#useimperativehandle" target="_blank" rel="noopener"><code>useImperativeHandle</code></a></li>
<li><a href="https://react.docschina.org/docs/hooks-reference.html#uselayouteffect" target="_blank" rel="noopener"><code>useLayoutEffect</code></a></li>
<li><a href="https://react.docschina.org/docs/hooks-reference.html#usedebugvalue" target="_blank" rel="noopener"><code>useDebugValue</code></a></li>
</ul>
</li>
</ul>
<h3 id="什么是Hooks"><a href="#什么是Hooks" class="headerlink" title="什么是Hooks"></a>什么是Hooks</h3><p>Hook 就是 JavaScript 函数，但是使用它们会有两个额外的规则：</p>
<ul>
<li>只能在<strong>函数最外层</strong>调用 Hook。不要在循环、条件判断或者子函数中调用。</li>
<li>只能在 <strong>React 的函数组件</strong>中调用 Hook和自定Hook。不要在其他 JavaScript 函数中调用。</li>
</ul>
<p>什么是Hooks，先看一个简单的例子</p>
<p>这是个点击按钮让count+1的例子</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      count: <span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;p&gt;You clicked &#123;<span class="keyword">this</span>.state.count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">        &lt;button onClick=&#123;() =&gt; this.setState(&#123; count: this.state.count + 1 &#125;)&#125;&gt;</span></span><br><span class="line"><span class="regexp">          Click me</span></span><br><span class="line"><span class="regexp">        &lt;/</span>button&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></div>
<p>用Hooks实现相同功能</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="regexp">        Click me</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></div>









<h3 id="React为什么要搞一个Hooks"><a href="#React为什么要搞一个Hooks" class="headerlink" title="React为什么要搞一个Hooks"></a>React为什么要搞一个Hooks</h3><blockquote>
<p>为什么要搞一个Hooks，既然想用状态可以用class创建的组件？</p>
</blockquote>
<p>上面的问题确实说的也没错，但是组件之所以创建不就是能够复用吗，当每一个组件都拥有了自己的状态，复用基本不太可能了。在Hooks诞生前，官方推荐的两种方式 渲染属性(Render Props) 和 高阶组件(Higher-Order Component)</p>
<p>这两种方式看起来都挺好的，但是嵌套关系会进一步扩大</p>
<h5 id="渲染属性"><a href="#渲染属性" class="headerlink" title="渲染属性"></a>渲染属性</h5><p>渲染属性值得是使用一个值为函数的prop来传递需要动态渲染的nodes或组件</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import React from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">export default class RenderComponent extends React.Component &#123;</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">        this.state &#x3D; &#123; target: &quot;zrb&quot; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;div&gt;&#123;this.props.render(this.state)&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;RenderComponnet render&#x3D;&#123; (data)&#x3D;&gt;&#123;</span><br><span class="line">	&lt;component getData&#x3D;&#123;data&#125; &#x2F;&gt;</span><br><span class="line">&#125; &#125;&#x2F;&gt;</span><br></pre></td></tr></table></figure></div>

<h5 id="高阶组件"><a href="#高阶组件" class="headerlink" title="高阶组件"></a>高阶组件</h5><p>一个函数接受一个组件作为参数，经过一系列的加工后，最后返回一个新的组件</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const withUser &#x3D; WrappedComponent &#x3D;&gt; &#123;</span><br><span class="line">  const user &#x3D; sessionStorage.getItem(&quot;user&quot;);</span><br><span class="line">  return props &#x3D;&gt; &lt;WrappedComponent user&#x3D;&#123;user&#125; &#123;...props&#125; &#x2F;&gt;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const UserPage &#x3D; props &#x3D;&gt; (</span><br><span class="line">  &lt;div class&#x3D;&quot;user-container&quot;&gt;</span><br><span class="line">    &lt;p&gt;My name is &#123;props.user&#125;!&lt;&#x2F;p&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">);</span><br><span class="line">export default withUser(UserPage);</span><br></pre></td></tr></table></figure></div>





<h3 id="State-Hooks"><a href="#State-Hooks" class="headerlink" title="State Hooks"></a>State Hooks</h3><p>useState是react自带的一个hook函数，他的作用接收来声明状态变量。useState这个函数接收的参数是状态的初始值，他返回一个数组，这个数组的第0个是当前的状态值，第一个值是可以改变状态值的方法函数</p>
<h3 id="Effect-Hook"><a href="#Effect-Hook" class="headerlink" title="Effect Hook"></a>Effect Hook</h3><p><em>Effect Hook</em> 可以让你在函数组件中执行副作用操作</p>
<p>你可以把 <code>useEffect</code> Hook 看做 <code>componentDidMount</code>，<code>componentDidUpdate</code> 和 <code>componentWillUnmount</code> 这三个函数的组合。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 相当于 componentDidMount 和 componentDidUpdate:  </span></span><br><span class="line">    useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;    <span class="comment">// 使用浏览器的 API 更新页面标题    </span></span><br><span class="line">        <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="regexp">        Click me</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></div>

<p>可以通过<strong>return</strong>取消订阅effect</p>
<p>effect的第二个参数：</p>
<ul>
<li>如果什么都不传，那么每次渲染都会执行</li>
<li>人如果传一个空数组，那么就只会运行一次effect，并且efeect内部的props和state会一直拥有初始值</li>
<li>如果传的是一个包含属性值的数组，那么只有当数组里的值发生变化才会触发回调</li>
</ul>
<h3 id="useRef"><a href="#useRef" class="headerlink" title="useRef"></a>useRef</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> refContainer = useRef(initialValue);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">TextInputWithFocusButton</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inputEl = useRef(<span class="literal">null</span>);</span><br><span class="line">  <span class="keyword">const</span> onButtonClick = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// `current` 指向已挂载到 DOM 上的文本输入元素</span></span><br><span class="line">    inputEl.current.focus();</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;input ref=&#123;inputEl&#125; type=<span class="string">"text"</span> /&gt;</span><br><span class="line">      &lt;button onClick=&#123;onButtonClick&#125;&gt;Focus the input&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>























<h2 id="React-TS实战"><a href="#React-TS实战" class="headerlink" title="React+TS实战"></a>React+TS实战</h2><p>报错一：</p>
<blockquote>
<p>构造函数里的参数报错</p>
</blockquote>
<p>解决方法：</p>
<p>把构造函数里的参数定义成<code>any</code>类型</p>
<p>报错二：</p>
<blockquote>
<p>使用this.state地下的值时，报错说什么只读啥的</p>
</blockquote>
<p>解决方案：</p>
<p>在class声明的后面加上类型<code>any</code>，例如</p>
<p><code>export default class slidingBlock extends React.Component&lt;any, any&gt;</code></p>
<p>报错三：</p>
<blockquote>
<p>Type ‘void’ is not assignable to type ‘((event: MouseEvent&lt;HTMLLIElement, MouseEvent&gt;) =&gt; void) | undefined’.  TS2322</p>
</blockquote>
<p>解决方案：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;li key=&#123;item.name&#125; onClick=&#123;clickActive(item.select)&#125;&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#/"</span>&gt;</span>&#123;item.name&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span>&lt;<span class="regexp">/li&gt;</span></span><br></pre></td></tr></table></figure></div>

<p>改成：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;li key=&#123;item.name&#125; onClick=&#123;()=&gt;clickActive(item.select)&#125;&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#/"</span>&gt;</span>&#123;item.name&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span>&lt;<span class="regexp">/li&gt;</span></span><br></pre></td></tr></table></figure></div>



<p>报错四：</p>
<blockquote>
<p>脚手架：The href attribute is required for an anchor to be keyboard accessible.<br>Provide a valid, navigable address as the href value.<br>If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles.<br>Learn more: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md" target="_blank" rel="noopener">https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md</a>  jsx-a11y/anchor-is-valid</p>
</blockquote>
<p>解决方案；</p>
<ul>
<li><p>先把代码提交了</p>
</li>
<li><p>再运行<code>npm run eject</code></p>
</li>
<li><p>在<code>package.json</code>文件中添加如下代码</p>
</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang"></div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">"eslintConfig": &#123;</span><br><span class="line">    "extends": "react-app",</span><br><span class="line">    "rules":&#123;</span><br><span class="line">      "jsx-a11y/anchor-is-valid":"off"</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></div>

<ul>
<li>可能会出现<code>node-sass</code>包的问题，重新安装即可<code>npm i node-sass --sass_binary_site=https://npm.taobao.org/mirrors/node-sass/</code></li>
</ul>
<p>报错五：</p>
<blockquote>
<p> Useless constructor  @typescript-eslint/no-useless-constructor</p>
</blockquote>
<p>解决方法：</p>
<p>解决方法只要在constructor里面加上this.state={ }，加上state对象就可以</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">青空</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://gitee.com/AIR-ZRB/blog/2020/06/27/React-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">https://gitee.com/AIR-ZRB/blog/2020/06/27/React-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://gitee.com/AIR-ZRB/blog">青空</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/blog/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记    </a><a class="post-meta__tags" href="/blog/tags/React/">React    </a><a class="post-meta__tags" href="/blog/tags/%E6%A1%86%E6%9E%B6/">框架    </a></div><div class="post_share"><div class="social-share" data-image="https://img1.gamersky.com/upimg/users/2020/06/18/origin_202006180915583257.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/blog/null" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/blog/null" alt="支付寶"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/blog/2020/06/27/Vue-cli/"><img class="prev_cover lazyload" data-src="https://img1.gamersky.com/upimg/users/2020/06/18/origin_202006180915583257.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>Vue-Cli</span></div></a></div><div class="next-post pull_right"><a href="/blog/2020/06/22/%E9%9D%A2%E7%BB%8F/"><img class="next_cover lazyload" data-src="https://img1.gamersky.com/upimg/users/2020/06/26/origin_202006261202316584.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>面试经验</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/blog/2020/06/27/ReactNative-学习笔记/" title="ReactNative学习笔记"><img class="relatedPosts_cover lazyload"data-src="https://img1.gamersky.com/upimg/users/2020/06/18/origin_202006180915583257.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-27</div><div class="relatedPosts_title">ReactNative学习笔记</div></div></a></div><div class="relatedPosts_item"><a href="/blog/2020/06/27/ReactNative-ReactNavigation/" title="ReactNative-ReactNavigation"><img class="relatedPosts_cover lazyload"data-src="https://img1.gamersky.com/upimg/users/2020/06/18/origin_202006180915583257.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-27</div><div class="relatedPosts_title">ReactNative-ReactNavigation</div></div></a></div><div class="relatedPosts_item"><a href="/blog/2020/03/22/Linux-学习笔记/" title="Linux基础知识"><img class="relatedPosts_cover lazyload"data-src="https://img1.gamersky.com/upimg/users/2020/06/26/origin_202006261202357590.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-03-22</div><div class="relatedPosts_title">Linux基础知识</div></div></a></div><div class="relatedPosts_item"><a href="/blog/2020/03/02/Mysql-学习笔记/" title="mysql数据库"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-03-02</div><div class="relatedPosts_title">mysql数据库</div></div></a></div><div class="relatedPosts_item"><a href="/blog/2020/03/16/Python-学习笔记/" title="python学习笔记"><img class="relatedPosts_cover lazyload"data-src="https://img1.gamersky.com/upimg/users/2020/06/26/origin_202006261229298744.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-03-16</div><div class="relatedPosts_title">python学习笔记</div></div></a></div><div class="relatedPosts_item"><a href="/blog/2020/06/27/Redux/" title="Redux学习笔记"><img class="relatedPosts_cover lazyload"data-src="https://img1.gamersky.com/upimg/users/2020/06/18/origin_202006180915583257.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-27</div><div class="relatedPosts_title">Redux学习笔记</div></div></a></div></div><div class="clear_both"></div></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By 青空</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/blog/js/utils.js"></script><script src="/blog/js/main.js"></script><script src="/blog/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>